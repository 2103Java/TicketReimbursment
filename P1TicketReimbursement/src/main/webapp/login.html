<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
<link href="loginStyle.css" rel="stylesheet">


    <title>Document</title>
</head>

<h1>Welcome to the Ticket Reimbursement System</h1>
<body>
    

    <form id = "loginForm">
        <div class="mb-3">
          <label for="exampleInputEmail1" class="form-label">Username</label>
          <input type="username" class="form-control" id="usernameLogin"> 
        </div>

        <div class="mb-3">
          <label for="exampleInputPassword1" class="form-label">Password</label>
          <input type="password" class="form-control" id="passwordLogin">
        </div>

        <button type="submit" class="btn btn-primary" onclick="login(document.getElementById('loginForm'))">Login</button>
      </form>
      

      <script type="text/javascript">

        function login(form) {
           
            console.log("Inside Login");
            var xhr = new XMLHttpRequest();
            
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4) {
                    console.log("done")
                    if(xhr.status == 404){
                        alert('Login Failed!');
                    }
                    else{
                        alert("Login Successful!");
                    }
                    alert("Login neither successful or failed!");
                }
               
            }
    
            
            var loginParams ={
            		"username":form.usernameLogin.value,
            		"pass":form.passwordLogin.value
            }
            

            xhr.open("POST", 'http://localhost:9001/P1TicketReimbursement/Employee', true);
            xhr.setRequestHeader("Content-Type","application/json;charset=UTF-8");
            xhr.send(JSON.stringify(loginParams));

           

        }
    </script>
    
    
</body>
</html>